# uberPopug Task zero

[ссылка на схему](uberPopug%20task%200.png)

### Коммуникации между сервисами
Вся коммуникация между сервисами асинхронная - основана на событиях, с использованием брокера сообщений. Попытался сделать слабую связанность. Каждый из сервисов имеет свои локальные БД с нужной им данными.

#### Данные которые будут передаваться в коммуникациях
Событие _"создание задачи"_:
* task_number
* user_id

Событие _"ресайн задачи"_:
* task_number
* user_id

Событие _"задача выполнена"_:
* task_number

Событие _"назначены цены на задачу"_:
* task_number
* assigned_fee
* completed_amount

Событие _"изменение баланса"_:
* user_id
* balance

### Решение проблем
не знаю что написать 

### Спорные и (или) критичные места
Сервис Аккаутинг и сервис Аналитики похожи по данным, которые они используют. Например, для вывода количества заработанных топ-менеджментом за сегодня денег, нужны одни и те же данные.
Возможно стоило сделать синхронные запросы в сервис Аккаутинга для получения нужных данных, но решил сделать асинхронно.
Мне не нравится, что в событиях, которые обрабатываются в сервисе Аналитике может не быть тех данных, которые нужны для аналитики.
Не смог определить что все-таки нужно в сервисе Аналитики: задачи с установленными ценами или операции с указанием задачи.